{"ast":null,"code":"import axios from 'axios';\nimport API_URL from '../config';\nexport const signup = async user => {\n  try {\n    const response = await axios.post(`${API_URL}/signup`, user, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    return {\n      error: error.response ? error.response.data.error : 'Something went wrong'\n    };\n  }\n};\nexport const signin = async user => {\n  try {\n    const response = await axios.post(`${API_URL}/signin`, user, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    return {\n      error: error.response ? error.response.data.error : 'Something went wrong'\n    };\n  }\n};\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\nexport const signout = async next => {\n  try {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n      next();\n      const response = await axios.get(`${API_URL}/signout`);\n      console.log('signout', response);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n  if (localStorage.getItem('token')) {\n    return JSON.parse(localStorage.getItem('token'));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"names":["axios","API_URL","signup","user","response","post","headers","data","error","signin","authenticate","next","window","localStorage","setItem","JSON","stringify","signout","removeItem","get","console","log","isAuthenticated","getItem","parse"],"sources":["D:/My-Tutorial/refund/frontent/src/auth/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport API_URL from '../config';\r\n\r\nexport const signup = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/signup`, user, {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return { error: error.response ? error.response.data.error : 'Something went wrong' };\r\n  }\r\n};\r\n\r\nexport const signin = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/signin`, user, {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return { error: error.response ? error.response.data.error : 'Something went wrong' };\r\n  }\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\nexport const signout = async (next) => {\r\n    try {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('token');\r\n            next();\r\n            const response = await axios.get(`${API_URL}/signout`);\r\n            console.log('signout', response);\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('token')) {\r\n        return JSON.parse(localStorage.getItem('token'));\r\n    } else {\r\n        return false;\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAE/B,OAAO,MAAMC,MAAM,GAAG,MAAOC,IAAI,IAAK;EACpC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAE,GAAEJ,OAAQ,SAAQ,EAAEE,IAAI,EAAE;MAC3DG,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,OAAOF,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEA,KAAK,EAAEA,KAAK,CAACJ,QAAQ,GAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG;IAAuB,CAAC;EACvF;AACF,CAAC;AAED,OAAO,MAAMC,MAAM,GAAG,MAAON,IAAI,IAAK;EACpC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAE,GAAEJ,OAAQ,SAAQ,EAAEE,IAAI,EAAE;MAC3DG,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,OAAOF,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEA,KAAK,EAAEA,KAAK,CAACJ,QAAQ,GAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG;IAAuB,CAAC;EACvF;AACF,CAAC;AAED,OAAO,MAAME,YAAY,GAAGA,CAACH,IAAI,EAAEI,IAAI,KAAK;EAC1C,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IACjCC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,CAAC;IACjDI,IAAI,CAAC,CAAC;EACR;AACF,CAAC;AACD,OAAO,MAAMM,OAAO,GAAG,MAAON,IAAI,IAAK;EACnC,IAAI;IACA,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;MAC/BC,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;MAChCP,IAAI,CAAC,CAAC;MACN,MAAMP,QAAQ,GAAG,MAAMJ,KAAK,CAACmB,GAAG,CAAE,GAAElB,OAAQ,UAAS,CAAC;MACtDmB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEjB,QAAQ,CAAC;IACpC;EACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZY,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;EACtB;AACJ,CAAC;AAED,OAAO,MAAMc,eAAe,GAAGA,CAAA,KAAM;EACjC,IAAI,OAAOV,MAAM,IAAI,WAAW,EAAE;IAC9B,OAAO,KAAK;EAChB;EACA,IAAIC,YAAY,CAACU,OAAO,CAAC,OAAO,CAAC,EAAE;IAC/B,OAAOR,IAAI,CAACS,KAAK,CAACX,YAAY,CAACU,OAAO,CAAC,OAAO,CAAC,CAAC;EACpD,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}